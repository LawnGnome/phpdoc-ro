<?xml version="1.0" encoding="iso-8859-2"?>
<!-- EN-Revision: 1.0 Maintainer: adiju Status: outdated -->
<!-- splitted from ./ro/functions/var.xml, last change in rev 1.1 -->
<!-- last change to 'unserialize' in en/ tree in rev 1.2 -->
  <refentry xml:id="function.unserialize" xmlns="http://docbook.org/ns/docbook">
   <refnamediv>
    <refname>unserialize</refname>
    <refpurpose>
     Creeazã o variabilã PHP dintr-o reprezentare liniarã
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>mixed</type><methodname>unserialize</methodname>
      <methodparam><type>string</type><parameter>str</parameter></methodparam>
     </methodsynopsis>
    <simpara>
     <function>unserialize</function> primeºte ca parametru o singurã variabilã
     liniarizatã (vezi <function>serialize</function>) ºi o converteºte
     "înapoi" într-o variabilã PHP. Este returnatã valoarea convertitã, care poate 
     sã aibã tipurile <type>integer</type>, <type>float</type>,
     <type>string</type>, <type>array</type> sau <type>object</type>.
    </simpara>
    <note>
     <para>
      Este posibilã setarea unei funcþii callback ce va fi apelatã
      dacã o clasã nedefinitã trebuie instanþiatã în timpul conversiei din
      forma liniarã (pentru a preveni preluarea incompletã a unui <type>object</type>).
      Se poate folosi &php.ini;, <function>ini_set</function> sau un fisier .htaccess
      pentru a defini 'unserialize_callback_func'.
      De câte ori o clasã trebuie instanþiatã, se va apela aceastã funcþie.
      Pentru a dezactiva aceastã facilitate, trebuie doar sã ºtergeþi aceastã
      setare.
     </para>
    </note>
    <para>
     <example>
      <title>Exemplu unserialize_callback_func</title>
      <programlisting role="php">
<![CDATA[
<?php
$serialized_object='O:1:"a":1:{s:7:"valoare";s:3:"100";}';

ini_set('unserialize_callback_func','mycallback'); // seteazã callback_function

function mycallback($classname) {
    // includeþi fiºierul care conþine definiþia clasei
    // se foloseºte $classname pentru a decide ce definiþie de clasã este vizatã
}
?>
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <para>
      În PHP 3, metodele nu sunt pãstrate când se foloseºte unserialize pentru un obiect.
      PHP 4 eliminã aceastã limitare ºi restaureazã stât proprietãþile cât ºi metodele.
      Consultaþi secþiunea <link linkend="language.oop.serialization">Serializarea
      obiectelor</link> a capitolului <link linkend="language.oop">Clase ºi obiecte</link>
      pentru mai multe informaþii.
     </para>
    </note>
    <para>
     <example>
      <title>Exemplu pentru <function>unserialize</function></title>
      <programlisting role="php">
<![CDATA[
<?php
// Aici se foloseºte unserialize() pentru a încãrca datele unei sesiuni
// în $session_data dintr-un string selectat dintr-o bazã de date.
// Acest exemplu este complementar celui pentru funcþia
// serialize.

$conn = odbc_connect ("webdb", "php", "chicken");
$stmt = odbc_prepare ($conn, "SELECT data FROM sessions WHERE id = ?");
$sqldata = array ($PHP_AUTH_USER);
if (!odbc_execute ($stmt, &$sqldata) || !odbc_fetch_into ($stmt, &$tmp)) {
    // se iniþializeazã cu tablou vid în cazul in care execute sau fetch nu funcþioneazã
    $session_data = array();
} else {
    // acum datele liniarizate sunt în $tmp[0].
    $session_data = unserialize ($tmp[0]);
    if (!is_array ($session_data)) {
    // dacã ceva nu merge cum trebuie, se iniþializeazã cu tablou vid
    $session_data = array();
    }
}
?>
]]>
      </programlisting>
     </example>
    </para>
   <para>
    Mai consultaþi: <function>serialize</function>.
   </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
