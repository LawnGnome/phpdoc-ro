<?xml version="1.0" encoding="iso-8859-2"?>
<!-- $Revision: 1.1 $ -->
 <reference id="ref.datetime">
  <title>Funcþii de timp ºi datã</title>
  <titleabbrev>Date/time</titleabbrev>

  <refentry id="function.checkdate">
   <refnamediv>
    <refname>checkdate</refname>
    <refpurpose>Valideazã o datã/orã gregorianã</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>bool</type><methodname>checkdate</methodname>
      <methodparam><type>int</type><parameter>luna</parameter></methodparam>
      <methodparam><type>int</type><parameter>ziua</parameter></methodparam>
      <methodparam><type>int</type><parameter>anul</parameter></methodparam>
     </methodsynopsis>
    <para>
     Returneazã &true; dacã data este validã; în caz contrar returneazã &false;. Verificã validitatea datei formatã din argumente. O datã este consideratã validã dacã:
     <itemizedlist>
      <listitem>
       <simpara>
        <parameter>anul</parameter> este între 1 ºi 32767, inclusiv
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        <parameter>luna</parameter> este între 1 ºi 12 inclusiv
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        <parameter>ziua</parameter> este în perioada 1 - numãrul maxim de zile pentru <parameter>luna</parameter> datã. Dacã <parameter>anul</parameter> este bisect, acest lucru este luat în considerare.
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
    <para>
     Vezi <function>mktime</function> ºi <function>strtotime</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.date">
   <refnamediv>
    <refname>date</refname>
    <refpurpose>Formateazã data/timpul local</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>string</type><methodname>date</methodname>
      <methodparam><type>string</type><parameter>format</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>
        timestamp
       </parameter></methodparam>
     </methodsynopsis>
    <para>
     Returneazã un ºir formatat conform cu formatul transmis ca parametru al funcþiei, utilizând întregul <parameter>timestamp</parameter> sau timpul local dacã nu este utilizat parametrul <parameter>timestamp</parameter>.
     <note>
      <para>
       Perioada validã a <parameter>timestamp</parameter> este cuprinsã, de regulã, între vineri, 13 Decembrie 1901 20:45:54 GMT ºi marþi, 19 ianuarie 2038 03:14:07 GMT. (Acestea sunt datele care corespund minimului, respectiv maximului unui întreg cu semn reprezentat pe 32 de biþi.)
      </para>
      <para>
       Pentru a genera un <parameter>timestamp</parameter> dintr-un ºir reprezentând o datã, puteþi utiliza funcþia <function>strtotime</function>. De asemenea, unele sisteme de gestiune a bazelor de date au funcþii care pot converti formatul lor de datã în timestamps (cum ar fi funcþia MySQL UNIX_TIMESTAMP).
      </para>
     </note>
    </para>
    <para>
     Urmãtoarele caractere sunt recunoscute în ºirul <parameter>format</parameter>:
     <itemizedlist>
      <listitem>
       <simpara>
        a - "am" sau "pm"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        A - "AM" sau "PM"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        B - timpul Swatch Internet
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        d - ziua din lunã, 2 cifre cu zero iniþial; de exemplu "01"
        to "31"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        D - ziua din sãptãmânã, în englezã, textual, 3 litere; de exemplu "Fri"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        F - month, textual, long; de exemplu "January"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        g - ora, format de 12 ore, fãrã zero iniþial; de exemplu "1" pânã la "12"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        G - ora, format de 24 de ore, fãrã zero iniþial; de exemplu "0" pânã la "23"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        h - ora, format 12 ore, cu zero iniþial; de exemplu "01" pânã la "12"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        H - ora, format 24 de ore, cu zero iniþial; de exemplu "00" pânã la "23"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        i - minute, cu zero iniþial; de exemplu "00" pânã la "59"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        I (litera i majusculã) - "1" ora de varã, "0" în caz contrar.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        j - ziua din lunã, fãrã zero iniþial; de exemplu "1" pânã la "31"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        l (litera 'L' minusculã) - ziua din sãptãmânã, textual, în englezã, scurt; de exemplu "Friday"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        L - valoare booleanã pentru anii bisecþi; de exemplu "0" dacã nu e an bisect sau "1" dacã este an bisect
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        m - luna, cu zero iniþial; de exemplu "01" pânã la "12"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        M - luna, textual, în englezã, 3 litere; de exemplu "Jan"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        n - luna fãrã zero iniþial; de exemplu "1" pânã la "12"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        O - diferenþa pânã la ora Greenwich în ore; de exemplu "+0200"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        r - data formatatã conform recomandãrii RFC 822; de exemplu "Thu, 21 Dec 2000 16:01:07 +0200" (adãugatã în PHP 4.0.4)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        s - secunde; de exemplu "00" pânã la "59"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        S - sufixul ordinal englezesc pentru ziua din lunã, 2 caractere; de exemplu "th", "nd"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        t - numãrul de zile dintr-o lunã datã; de exemplu "28" pânã la "31"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        T - setãrile de reprezentare a timpului pe un calculator; de exemplu "MDT"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        U - secunde de la începutul epocii UNIX
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        w - ziua din sãptãmânã, numericã, de exemplu "0" (duminicã) pânã la "6" (sâmbãtã)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        W - numãrul sãptãmânii din an conform ISO-8601; sãptãmâna începe lunea (adãugatã în PHP 4.1.0)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        Y - anul, 4 cifre; de exemplu "1999"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        y - anul, 2 cifre; de exemplu "99"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        z - ziua din an; de exemplu "0" pânã la "365"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        Z - diferenþa de timp faþã de UTC, în secunde (de exemplu "-43200" pânã la "43200"). Diferenþele pentru zonele aflate la vest de UTC sunt întotdeauna negative ºi celelalte sunt întotdeauna pozitive.
       </simpara>
      </listitem>
     </itemizedlist>
     Caracterele nerecunoscute din format vor fi afiºate ca atare. Formatul "Z" va returna întotdeauna "0" când se foloseºte <function>gmdate</function>.
    </para>
    <para>
     <example>
      <title>Exemplu <function>date</function></title>
      <programlisting role="php">
<![CDATA[
echo date ("l dS of F Y h:i:s A");
echo "July 1, 2000 este într-o zi de " . date ("l", mktime(0,0,0,7,1,2000));
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Puteþi preveni expandarea unui caracter de formatare precedându-l cu un backslash. Dacã astfel ia naºtere un caracter escape predefinit este necesarã adãugarea încã unui backslash.
     <example>
      <title>Caractere escape în funcþia <function>date</function></title>
      <programlisting role="php">
<![CDATA[
echo date("l \e\s\\t\e \i\\n j"); // va afiºa ceva de genul 'Saturday este in 8'
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Este posibil sã utilizaþi funcþiile <function>date</function> ºi <function>mktime</function> împreunã pentru a gãsi date în viitor sau în trecut.
     <example>
      <title>Exemplu <function>date</function> ºi <function>mktime</function></title>
      <programlisting role="php">
<![CDATA[
$miine = mktime (0,0,0,date("m")  ,date("d")+1,date("Y"));
$luna_trecuta = mktime (0,0,0,date("m")-1,date("d"),  date("Y"));
$anul_viitor = mktime (0,0,0,date("m"),  date("d"),  date("Y")+1);
]]>
      </programlisting>
     </example>
     <note>
      <para>
       Aceastã modalitate de gãsire a datelor din trecut sau viitor este mai demnã de încredere decât simpla adãugare sau scãdere de secunde la un timestamp, datoritã orei de varã.
      </para>
     </note>
    </para>
    <para>
     Câteva exemple de formatare a datei utilizând funcþia <function>date</function>. Este recomandat sã faceþi escape la toate caracterele din ºirul de formatare pe care nu doriþi ca funcþia sã le expandeze, precum ºi la cele care momentan nu au o semnificaþie, din cel puþin douã motive:  pot apãrea rezultate neaºteptate; alte caractere pot avea o semnificaþie în versiuni viitoare ale PHP. Când faceþi escape þineþi cont cã unele caractere (n, t) capãtã semnificaþii speciale. Pentru a preveni acest lucru utilizaþi apostroful pentru încadrarea ºirului de formatare.
     <example>
      <title>
       Formatare cu funcþia <function>date</function>
      </title>
      <programlisting role="php">
<![CDATA[
/* Today is March 10th, 2001, 5:16:18 pm */
$azi = date("F j, Y, g:i a");                   // March 10, 2001, 5:16 pm
$azi = date("m.d.y");                           // 03.10.01
$azi = date("j, m, Y");                         // 10, 3, 2001
$azi = date("Ymd");                             // 20010310
$azi = date('h-i-s, j-m-y, it is w Day z ');    // 05-16-17, 10-03-01, 1631 1618 6 Fripm01
$azi = date('\e\s\t\e \z\i\u\a \d\e j.');       // este ziua de 10.
$azi = date("D M j G:i:s T Y");                 // Sat Mar 10 15:16:08 MST 2001
$azi = date('H:m:s \l \e\s\t\e \l\u\n\a');      // 17:03:17 l este luna
$azi = date("H:i:s");                           // 17:16:17
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Pentru a formata datele în alte limbi trebuie sã utilizaþi funcþiile <function>setlocale</function> ºi <function>strftime</function>.
    </para>
    <para>
     Vezi, de asemenea, <function>getlastmod</function>, <function>gmdate</function>, <function>mktime</function>, <function>strftime</function> ºi <function>time</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.getdate">
   <refnamediv>
    <refname>getdate</refname>
    <refpurpose>Citeºte informaþii despre datã/timp</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>array</type><methodname>getdate</methodname>
      <methodparam choice="opt"><type>int</type><parameter>timestamp</parameter></methodparam>
     </methodsynopsis>
    <para>
     Returneazã un tablou asociativ conþinând informaþii despre datã din <parameter>timestamp</parameter>, sau timpul local curent dacã nu este dat <parameter>timestamp</parameter>; tabloul returnat are urmãtoarele chei asociative:
     <itemizedlist>
      <listitem>
       <simpara>
        "seconds" - secunde
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "minutes" - minute
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "hours" - ore
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "mday" - ziua din lunã
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "wday" - ziua din sãptãmânã, numeric: de la 0 ca duminicã pânã la 6 ca sâmbãtã
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "mon" - luna, numeric
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "year" - anul, numeric
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "yday" - ziua din an, numeric; de exemplu "299"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "weekday" - ziua din sãptãmânã, textual, în englezã, complet; de exemplu "Friday"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "month" - luna, textual, în englezã, complet; de exemplu "January"
       </simpara>
      </listitem>
     </itemizedlist>
     <example>
      <title>
       Exemplu <function>getdate</function>
      </title>
      <programlisting role="php">
<![CDATA[
$azi = getdate(); 
$luna = $azi['month']; 
$ziua = $azi['mday']; 
$anul = $azi['year']; 
echo "$luna $ziua, $anul";
]]>
      </programlisting>
     </example>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gettimeofday">
   <refnamediv>
    <refname>gettimeofday</refname>
    <refpurpose>Citeºte timpul curent</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>array</type><methodname>gettimeofday</methodname>
      <void/>
     </methodsynopsis>
    <para>
     Aceasta este o interfaþã pentru gettimeofday(2). Returneazã un tablou asociativ conþinând data returnatã de un apel sistem.
     <itemizedlist>
      <listitem>
       <simpara>
        "sec" - secunde
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "usec" - microsecunde
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "minuteswest" - minute la vest de Greenwich
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "dsttime" - tipul corecþiei dst
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gmdate">
   <refnamediv>
    <refname>gmdate</refname>
    <refpurpose>Formateazã data/timpul GMT/CUT</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>string</type><methodname>gmdate</methodname>
      <methodparam><type>string</type><parameter>format</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>timestamp</parameter></methodparam>
     </methodsynopsis>
    <para>
     Este identicã cu funcþia <function>date</function> cu excepþia faptului cã timpul rezultat este Greenwich Mean Time (GMT). De exemplu, când este rulat în Romania (GMT +0300), prima linie de mai jos va afiºa "Jan 01 1998 00:00:00", în vreme ce a doua va afiºa "Dec 31 1997 22:00:00".
     <example>
      <title>Exemplu <function>gmdate</function></title>
      <programlisting role="php">
<![CDATA[
echo date ("M d Y H:i:s", mktime (0,0,0,1,1,1998));
echo gmdate ("M d Y H:i:s", mktime (0,0,0,1,1,1998));
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Vezi, de asemenea, <function>date</function>, <function>mktime</function>,
     <function>gmmktime</function> ºi <function>strftime</function>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gmmktime">
   <refnamediv>
    <refname>gmmktime</refname>
    <refpurpose>Citeºte un timestamp UNIX pentru o datã GMT</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>int</type><methodname>gmmktime</methodname>
      <methodparam><type>int</type><parameter>hour</parameter></methodparam>
      <methodparam><type>int</type><parameter>minute</parameter></methodparam>
      <methodparam><type>int</type><parameter>second</parameter></methodparam>
      <methodparam><type>int</type><parameter>month</parameter></methodparam>
      <methodparam><type>int</type><parameter>day</parameter></methodparam>
      <methodparam><type>int</type><parameter>year</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>is_dst</parameter></methodparam>
     </methodsynopsis>
    <para>
     Identicã cu <function>mktime</function> cu excepþia faptului cã parametrii reprezintã o datã GMT.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.gmstrftime">
   <refnamediv>
    <refname>gmstrftime</refname>
    <refpurpose>Formateazã data/timpul GMT/CUT conform cu setãrile locale</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>string</type><methodname>gmstrftime</methodname>
      <methodparam><type>string</type><parameter>format</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>timestamp</parameter></methodparam>
     </methodsynopsis>
    <para>
     Se comportã la fel ca <function>strftime</function> exceptând faptul cã timpul returnat este Greenwich Mean Time (GMT). De exemplu, când este rulat în Timpul Standard Estic (GMT -0500), prima linie de mai jos va afiºa "Dec 31 1998 20:00:00", în timp ce a doua va afiºa "Jan 01 1999 01:00:00".
     <example>
      <title>Exemplu <function>gmstrftime</function></title>
      <programlisting role="php">
<![CDATA[
setlocale ('LC_TIME', 'en_US');
echo strftime ("%b %d %Y %H:%M:%S", mktime (20,0,0,12,31,98))."\n";
echo gmstrftime ("%b %d %Y %H:%M:%S", mktime (20,0,0,12,31,98))."\n";
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Vezi, de asemenea, <function>strftime</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.localtime">
   <refnamediv>
    <refname>localtime</refname>
    <refpurpose>Citeºte timpul local</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>array</type><methodname>localtime</methodname>
      <methodparam choice="opt"><type>int</type><parameter>
        timestamp
       </parameter></methodparam>
      <methodparam choice="opt"><type>bool</type><parameter>
        is_associative
       </parameter></methodparam>
     </methodsynopsis>
    <para>
     Funcþia <function>localtime</function> returneazã un tablou identic cu cel al structurii returnate de un apel al funcþiei C. Primul argument al <function>localtime</function> este timestamp; dacã nu este dat, se utilizeazã timpul curent. Al doilea argument al funcþiei <function>localtime</function> este <parameter>is_associative</parameter>; dacã este 0 sau nu este dat atunci tabloul returnat va fi unul obiºnuit, având chei numerice. Dacã acest argument este 1 atunci <function>localtime</function> este un tablou asociativ conþinând toate elementele structurii returnate de apelul funcþiei C. Numele cheilor din tabloul asociativ sunt dupã cum urmeazã:
     <itemizedlist>
      <listitem>
       <simpara>
        "tm_sec" - secunde
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "tm_min" - minute
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "tm_hour" - ore
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "tm_mday" - ziua din lunã
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "tm_mon" - luna din an începând cu 0 pentru ianuarie
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "tm_year" - anii începând cu 1900
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "tm_wday" - ziua din sãptãmânã
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "tm_yday" - ziua din an
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        "tm_isdst" - este activã ora de varã
       </simpara>
      </listitem>
     </itemizedlist>
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.microtime">
   <refnamediv>
    <refname>microtime</refname>
    <refpurpose>Returneazã timestamp-ul curent UNIX cu microsecunde</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>string</type><methodname>microtime</methodname>
      <void/>
     </methodsynopsis>
    <para>
     Returneazã ºirul "msec sec" unde sec este timpul curent mãsurat în secunde de la începutul Epocii UNIX (0:00:00 January 1, 1970 GMT), ºi msec este partea reprezentând microsecndele. Aceastã funcþie este valabilã pe sistemele de operare care suportã apelul sistem gettimeofday().
    </para>
    <para>
     Ambele pãrþi ale ºirului sunt returnate în unitãþi de secunde.
     <example>
      <title>Exemplu <function>microtime</function></title>
      <programlisting role="php">
<![CDATA[
function getmicrotime(){ 
    list($usec, $sec) = explode(" ",microtime()); 
    return ((float)$usec + (float)$sec);
    } 

$start_t = getmicrotime();
    
for ($i=0; $i < 1000; $i++){
    //do nothing, 1000 times
    }

$stop_t = getmicrotime();
$timp = $stop_t - $start_t;

echo "N-am facut nimic timp de $time secunde";
]]>
      </programlisting>
     </example>
    </para>
    <para>
     Vezi, de asemenea, <function>time</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.mktime">
   <refnamediv>
    <refname>mktime</refname>
    <refpurpose>Citeºte valoarea UNIX timestamp pentru o datã</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>int</type><methodname>mktime</methodname>
      <methodparam><type>int</type><parameter>hour</parameter></methodparam>
      <methodparam><type>int</type><parameter>minute</parameter></methodparam>
      <methodparam><type>int</type><parameter>second</parameter></methodparam>
      <methodparam><type>int</type><parameter>month</parameter></methodparam>
      <methodparam><type>int</type><parameter>day</parameter></methodparam>
      <methodparam><type>int</type><parameter>year</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>is_dst</parameter></methodparam>
     </methodsynopsis>
    <para>
     <emphasis>Atenþie:</emphasis> Observaþi ordinea ciudatã a argumentelor, care diferã de ordinea argumentelor într-un apel normal al funcþiei UNIX mktime(); în cazul în care aceastã ordine nu este respectatã vor fi furnizate rezultate aleatoare (vezi mai jos). Acest tip de eroare este una comunã.
    </para>
    <para>
     Retureazã valoarea UNIX timestamp corespunzãtoare argumentelor. Acest timestamp este un întreg lung (long integer) care conþine numãrul de secunde între începutul Epocii UNIX (1 ianuarie 1970) ºi timpul specificat.
    </para>
    <para>
     Se poate renunþa la argumente începând de la dreapta la stânga; orice argument astfel omis va fi setat la valoarea curentã în conformitate cu data ºi timpul locale.
    </para>
    <para>
     <parameter>Is_dst</parameter> poate fi setat la 1 dacã timpul este în perioada în care este activã ora de iarnã, 0 în caz contrar, sau -1 (implicit) în caz cã nu se ºtie.
    </para>
    <note>
     <para>
      <parameter>Is_dst</parameter> a fost adãugat în 3.0.10.
     </para>
    </note>
    <para>
     Funcþia <function>mktime</function> este folositoare pentru efectuarea de calcule ºi validãri ale datei, ºi va produce rezultate corecte chiar în cazul unor invalide. De exemplu, fiecare dintre urmãtoarele linii va produce ºirul de caractere "Jan-01-1998".
     <example>
      <title><function>mktime</function> example</title>
      <programlisting role="php">
<![CDATA[
echo date ("M-d-Y", mktime (0,0,0,12,32,1997));
echo date ("M-d-Y", mktime (0,0,0,13,1,1997));
echo date ("M-d-Y", mktime (0,0,0,1,1,1998));
echo date ("M-d-Y", mktime (0,0,0,1,1,98));
]]>
      </programlisting>
     </example>
     Parametrul <parameter>year</parameter> poate fi format din douã sau patru cifre, cu valori între 0-69 pentru anii 2000-2069 ºi 70-99  pentru anii 1970-1999 (pentru sistemele pe care time_t este reprezentat ca un întreg cu semn pe 32 de biþi, cum sunt cele de acum, intervalul valid pentru <parameter>year</parameter> este undeva între 1902 ºi 2037).
    </para>
    <para>
     Ultima zi a unei luni va fi exprimatã ca ziua "0" a lunii urmãtoare nu ca ziua -1. Ambele exemple de mai jos vor produce acelaºi rezultat: ºirul de caractere "The last day in Feb 2000 is: 29".
     <example>
      <title>Ultima zi din lunã</title>
      <programlisting role="php">
<![CDATA[
$lastday = mktime (0,0,0,3,0,2000);
echo strftime ("Last day in Feb 2000 is: %d", $lastday);
     
$lastday = mktime (0,0,0,4,-31,2000);
echo strftime ("Last day in Feb 2000 is: %d", $lastday);
]]>
      </programlisting>
     </example>
    </para>
    <simpara>
    Datele cu anul, luna ºi ziua egale cu zero sunt considerate ilegale (dealtfel vor produce rezultatul 30.11.1999, ceea ce reprezintã un comportament ciudat).
    </simpara>
    <para>
     Vezi, de asemenea, <function>date</function> ºi <function>time</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.strftime">
   <refnamediv>
    <refname>strftime</refname>
    <refpurpose>
     Formateazã data/timpul local conform cu setãrile locale
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>string</type><methodname>strftime</methodname>
      <methodparam><type>string</type><parameter>format</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>
        timestamp
       </parameter></methodparam>
     </methodsynopsis>
    <para>
	 Returneazã un ºir formatat conform parametrului <parameter>format</parameter> utilizând parametrul opþional <parameter>timestamp</parameter> sau timpul curent local dacã funcþia nu a fost apelatã cu timestamp.  Numele lunilor ºi zilelor sãptãmânii, precum ºi alte ºiruri dependente de limbã respectã setãrile locale stabilite cu funcþia <function>setlocale</function>.
    </para>
    <para>
	 Specificatori de conversie recunoscuþi în ºirul <parameter>format</parameter>:
     <itemizedlist>
      <listitem>
       <simpara>
        %a - numele zilei din sãptãmânã, abreviat
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %A - numele zilei din sãptãmânã, complet
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %b - numele lunii, abreviat
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %B - numele lunii, complet
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %c - reprezentarea preferatã a datei ºi timpului pentru setãrile locale curente
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %C - secolul (anul divizat la 100 ºi trunchiat la un întreg, în intervalul 00 - 99)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %d - ziua din lunã ca numãr zecimal (interval 01 - 31)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %D - identic cu %m/%d/%y
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %e - ziua din lunã, numãr zecimal, zero iniþial înclocuit de un spaþiu (interval ' 1' - '31')
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %g - ca ºi %G, dar fãrã secol
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %G - anul format din 4 cifre corespunzãtor numãrului ISO al sãptãmânii (vezi %V). Are acelaºi format ºi aceeaºi valoare ca ºi %Y, cu o singurã excepþie: dacã numãrul ISO al sãptãmânii aparþine anului precedent sau urmãtor, va fi utilizat acel an.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %h - la fel ca %b
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %H - ora ca numãr zecimal utilizând formatul de 24 de ore (interval 00 - 23)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %I - ora ca numãr zecimal utilizând formatul de 12 de ore (interval 00 - 12)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %j - ziua din an ca numãr zecimal (interval 001 - 366)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %m - luna ca numãr zecimal (interval 01 - 12)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %M - minutul ca numãr zecimal
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %n - caracter de rând nou
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %p - `am' sau `pm' în funcþie de valoarea timpului, sau de ºirul corespunzãtor din setãrile locale
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %r - timpul în formatul a.m. ºi p.m.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %R - timpul în formatul de 24 de ore
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %S - secunda ca numãr zecimal
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %t - caracterul tab
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %T - timpul curent, egal cu %H:%M:%S
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %u - ziua din sãptãmânã ca numãr zecimal [1,7], unde 1 reprezintã ziua de luni
       </simpara>
       <warning>
        <simpara>
		 Staþiile Sun Solaris par sã porneascã sãptãmâna cu ziua de duminicã corespunzând valorii 1, deºi ISO 9889:1999 (standardul curent C) specificã în mod clar cã ar trebui sã fie luni.
        </simpara>
       </warning>
      </listitem>
      <listitem>
       <simpara>
        %U - numãrul sãptãmânii din anul curent, reprezentat ca numãr zecimal; prima duminicã din an este prima zi a primei sãptãmâni
       </simpara>
      </listitem>
      <listitem>
       <simpara> 
        %V - numãrul sãptãmânii din anul curent conform ISO 8601:1988, reprezentat ca numãr zecimal în intervalul 01 - 53, unde sãptãmâna 1 este prima sãptãmânã care are cel puþin 4 zile, iar prima zi a sãptãmânii este socotitã lunea. (Utilizaþi %G sau %g pentru componenta din an care corespunde numãrului sãptãmânii pentru valoarea timestamp specificatã.)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %W - numãrul sãptãmânii din anul curent, reprezentat ca numãr zecimal; prima luni din an este prima zi a primei sãptãmâni
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %w - ziua din sãptãmânã ca numãr zecimal, duminicã este 0
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %x - reprezentarea preferatã a datei conform setãrilor locale fãrã timp
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %X - reprezentarea preferatã a timpului conform setãrilor locale fãrã datã
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %y - anul ca numãr zecimal, fãrã secol (interval 00 -
        99)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %Y - anul ca numãr zecimal incluzând secolul
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %Z - zona, numele sau abrevierea de timp
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %% - caracterul `%'
       </simpara>
      </listitem>
     </itemizedlist>
     <note>
      <para>
	   Nu toþi specificatorii de format vor fi suportaþi de librãria C pe care o aveþi instalatã, caz în care aceºtia nu vor fi suportaþi de funcþia PHP <function>strftime</function>.
      </para>
     </note>
     <example>
      <title>Exemplu <function>strftime</function></title>
      <programlisting role="php">
<![CDATA[
setlocale (LC_TIME, "C");
print (strftime ("%A in Finnish is "));
setlocale (LC_TIME, "fi_FI");
print (strftime ("%A, in French "));
setlocale (LC_TIME, "fr_FR");
print (strftime ("%A and in German "));
setlocale (LC_TIME, "de_DE");
print (strftime ("%A.\n"));
]]>
      </programlisting>
     </example>
	 Acest exemplu funcþioneazã dacã aveþi instalate localele respective în sistem.
    </para>
    <para>
     Vezi, de asemenea, <function>setlocale</function> ºi <function>mktime</function> precum ºi <ulink url="&spec.strftime;"> specificaþiile Open Group pentru <function>strftime</function></ulink>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.time">
   <refnamediv>
    <refname>time</refname>
    <refpurpose>Returneazã valoarea UNIX timestamp curentã</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>int</type><methodname>time</methodname>
      <void/>
     </methodsynopsis>
    <para>
	 Returneazã timpul curent mãsurat în numãr de secunde începând cu Epoca UNIX (1 ianuarie 1970 00:00:00 GMT).
    </para>
    <para>
     Vezi, de asemenea, <function>date</function>.
    </para>
   </refsect1>
  </refentry>

  <refentry id="function.strtotime">
   <refnamediv>
    <refname>strtotime</refname>
    <refpurpose>
     Converteºte aproape orice reprezentare textualã a datei/timpului în valoarea UNIX timestamp corespunzãtoare
    </refpurpose>
   </refnamediv>
   <refsect1>
    <title>Descriere</title>
     <methodsynopsis>
      <type>int</type><methodname>strtotime</methodname>
      <methodparam><type>string</type><parameter>time</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>now</parameter></methodparam>
     </methodsynopsis>
    <simpara>
	 Funcþia aºteaptã un ºir conþinând o datã în format englezesc pe care va încerca sã o converteascã la valoarea UNIX timestamp în funcþie de parametrul <parameter>now</parameter>; dacã <parameter>now</parameter> nu este dat se foloseºte timpul curent. În caz de eºec este returnatã valoarea <literal>-1</literal>.
    </simpara>
    <simpara>
	 Datoritã faptului cã <function>strtotime</function> se comportã conforma specificaþiilor de sintaxã a datei GNU, aruncaþi o privire la pagina de manual intitulatã <ulink url="&url.gnu.man.date-input;">Date Input Formats</ulink>. Aici este descrisã o sintaxã validã pentru parametrul <parameter>time</parameter>.
    </simpara>
    <para>
     <example>
      <title>Exemple <function>strtotime</function></title>
      <programlisting role="php">
<![CDATA[
echo strtotime ("now"), "\n";
echo strtotime ("10 September 2000"), "\n";
echo strtotime ("+1 day"), "\n";
echo strtotime ("+1 week"), "\n";
echo strtotime ("+1 week 2 days 4 hours 2 seconds"), "\n";
echo strtotime ("next Thursday"), "\n";
echo strtotime ("last Monday"), "\n";
]]>
      </programlisting>
     </example>
    </para>
    <para>
     <example>
      <title>Verificarea eºecului</title>
      <programlisting role="php">
<![CDATA[
$str = 'Not Good';
if (($timestamp = strtotime($str)) === -1) {
    echo "The string ($str) is bogus";
} else {
    echo "$str == ". date('l dS of F Y h:i:s A',$timestamp);
}
]]>
      </programlisting>
     </example>
    </para>
    <note>
     <para>
      Intervalul valid este, de regulã, Vineri, 13 Dec 1901 20:45:54 GMT - Marþi, 19 Ian 2038 03:14:07 GMT. (Acestea sunt datele corespunzãtoare valorilor minime ºi maxime ale unui întreg cu semn pe 32 de biþi.)
     </para>
    </note>
   </refsect1>
  </refentry>

 </reference>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

